(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(95)},32:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(24),r=n.n(s),l=(n(32),n(2)),o=n(3),u=n(5),i=n(4),m=n(6),d=n(7),p=(n(39),n(41),{getMessages:function(e){return{type:"GET_MESSAGES",messages:[e]}},setLabels:function(e){return{type:"SET_LABELS",labels:e}},selectLabel:function(e){return{type:"SELECT_LABEL",label:e}},setMessages:function(e,t,n){return{type:"SET_MESSAGES",account:e.address,label:t,messages:n}},selectMessage:function(e){return{type:"SELECT_MESSGAE",currentMsg:e}},setAccounts:function(e){return{type:"SET_ACCOUNTS",accounts:e}},selectAccount:function(e){return{type:"SELECT_ACCOUNT",selected:e}},hideAddAccount:function(){return{type:"HIDE_ADD_ACCOUNT"}},showAddAccount:function(){return{type:"SHOW_ADD_ACCOUNT"}}}),b=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(u.a)(this,Object(i.a)(t).call(this,e));var a=e.account.address.charAt(0).toUpperCase();return n.state={account:e.account,letter:a},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"account-icon",onClick:function(){return e.props.selectAccount({selected:e.props.account})}},"                ",this.state.letter)}}]),t}(a.Component),h=Object(d.b)(null,function(e){return{selectAccount:function(t){var n=t.selected;return e(p.selectAccount(n))}}})(b),f=(n(43),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"account-icon add-icon",onClick:this.props.showAddAccount},"+")}}]),t}(a.Component)),E=Object(d.b)(null,function(e){return{showAddAccount:function(){return e(p.showAddAccount())}}})(f),O=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"accounts column",key:this.props.key},this.props.accounts.map(function(e){return c.a.createElement(h,{account:e,key:e.address})}),c.a.createElement(E,null))}}]),t}(a.Component),g=Object(d.b)(function(e){return{accounts:e.accounts}})(O),v=(n(45),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){this.props.selectLabel({selected:e})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"labels"},this.props.labels.map(function(t){var n=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();return c.a.createElement("div",{className:"label",key:t,onClick:function(){return e.handleClick(t)}},n)}))}}]),t}(a.Component)),j=Object(d.b)(function(e){return{labels:e.labels,size:e.labels.size}},function(e){return{selectLabel:function(t){var n=t.selected;return e(p.selectLabel(n))}}})(v),y=(n(47),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.type.charAt(0).toUpperCase()+this.props.type.substr(1).toLowerCase();return c.a.createElement("div",{className:"account-label"},c.a.createElement("div",{className:" account-type"},e," "),c.a.createElement("div",{className:" account-name"},this.props.name," "))}}]),t}(a.Component)),C=(n(49),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"label-col column",key:this.props.key},c.a.createElement(y,{type:this.props.account.type,name:this.props.account.address}),c.a.createElement(j,null))}}]),t}(a.Component)),A=Object(d.b)(function(e){return{account:e.select_account}})(C),S=n(12),N=(n(51),function(e){function t(e){var n;if(Object(l.a)(this,t),(n=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={msg:e.msg},n.state.msg.snippet=n.state.msg.snippet.substr(0,40)+" ....",null==n.state.msg.logo){var a=n.state.msg.from.trim().search("[A-Za-z]"),c=n.state.msg.from.trim().charAt(a).toUpperCase();n.state.msg.logo=c}return n.state.msg.logoColor=n.intToRGB(n.hashCode(n.state.msg.from)),n.handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){this.props.selectMessage({selected:this.state.msg})}},{key:"hashCode",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}},{key:"intToRGB",value:function(e){var t=(10547360&e).toString(16).toUpperCase();return"000000".substring(0,6-t.length)+t}},{key:"render",value:function(){var e={backgroundColor:"#"+this.state.msg.logoColor};return c.a.createElement("div",{className:"message-label",onClick:this.handleClick},c.a.createElement("div",{className:"logo",style:e}," ",this.state.msg.logo," "),c.a.createElement("span",{className:"sender"},this.state.msg.from),c.a.createElement("span",{className:"title"},this.state.msg.subject),c.a.createElement("span",{className:"snippet"},this.state.msg.snippet))}}]),t}(a.Component)),_=Object(d.b)(null,function(e){return{selectMessage:function(t){var n=t.selected;return e(p.selectMessage(n))}}})(N),k=(n(53),function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=window.innerHeight,t={maxHeight:e-=50};return c.a.createElement("div",{className:"messages column",key:this.props.key,style:t},this.props.messages.map(function(e,t){return c.a.createElement(_,{key:e.id,msg:e})}))}}]),t}(a.Component)),T=Object(d.b)(function(e){return void 0==e.messages[e.select_label]?{messages:[]}:{messages:e.messages[e.select_label]}})(k),w=(n(55),Object(d.b)(function(e){if(null==e.currentMsg.logo){var t=e.currentMsg.from.trim().charAt(0).toUpperCase();return{msg:Object.assign(e.currentMsg,{logo:t})}}return{msg:e.currentMsg}})(function(e){var t=e.msg;return c.a.createElement("div",{className:"message-view column"},c.a.createElement("div",{className:"title-bar"}," ",t.subject),c.a.createElement("div",{className:"message"},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"logo"},t.logo," "),c.a.createElement("span",{className:"sender"},t.from),c.a.createElement("span",{className:"reciever"},t.to)),c.a.createElement("div",{className:"body-container"},c.a.createElement("iframe",{className:"body",dangerouslySetInnerHTML:{__html:t.body},srcDoc:t.body}))))})),M=(n(57),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"top-bar"},c.a.createElement("span",{className:"compose-btn"},"Compose"),c.a.createElement("input",{className:"search",name:"",type:"text",defaultValue:"",placeholder:"Search"}))}}]),t}(a.Component)),L=(n(59),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.show?c.a.createElement("div",{className:"add-account modal"},c.a.createElement("div",{className:"dialog"},c.a.createElement("div",{className:"header"}," ",c.a.createElement("h1",null," New Account ")," "),c.a.createElement("div",{className:"dialog-body"},c.a.createElement("li",null,c.a.createElement("span",null,"Address "),c.a.createElement("input",{type:"text"})),c.a.createElement("li",null,c.a.createElement("span",null,"Type "),c.a.createElement("select",null,c.a.createElement("option",{value:"GMAIL"}," GMail "),c.a.createElement("option",{value:"OUTLOOK"}," Outlook "))),c.a.createElement("input",{className:"submit-btn",type:"submit",value:"Add account"}),c.a.createElement("button",{className:"cancel-btn",onClick:this.props.hide}," Cancel")))):c.a.createElement("div",null," ")}}]),t}(a.Component)),U=Object(d.b)(function(e){return{show:e.addAccount}},function(e){return{hide:function(){return e(p.hideAddAccount())}}})(L),D=n(14),B={accounts:[{address:"0",messages:{INBOX:[]},type:"TEST"}],select_account:{address:"0",messages:{INBOX:[]},type:"TEST"},messages:{INBOX:[],SENT:[]},labels:["INBOX"],select_label:"INBOX",currentMsg:{subject:"Brunch at the Barn",from:"Miss Quinn",to:"to Debra Suarez",body:"Hey friends,<br/> What do you think about having a brunch on Sunday.<br/><br/> Cheers!.",logo:null},addAccount:!0};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;if("OPEN_MESSAGE"===t.type)return Object.assign(e,{currentMsg:e.messages[t.msgId]});if("GET_MESSAGES"===t.type)return{currentMsg:JSON.parse(t.messages[0])};if("SET_LABELS"===t.type){var n=Object.assign([],e);return n.labels=t.labels,n}if("SELECT_LABEL"===t.type){var a=Object.assign([],e);return a.select_label=t.label,a}if("SELECT_MESSGAE"===t.type){console.log("SELECT message");var c=Object.assign([],e);return c.currentMsg=t.currentMsg,c}if("SET_MESSAGES"===t.type){var s=Object.assign([],e);return s[t.account].messages[t.label]=t.messages,s}if("SET_ACCOUNTS"===t.type){var r=Object.assign([],e);return r.accounts=t.accounts,t.accounts.forEach(function(e){r[e.address]={messages:{}}}),r.addAccount=t.accounts.size>0,r}if("SELECT_ACCOUNT"===t.type){var l=Object.assign([],e);return l.select_account=t.selected,l.labels=t.selected.labels,l.messages=l[t.selected.address].messages,l}if("HIDE_ADD_ACCOUNT"===t.type){var o=Object.assign([],e);return o.addAccount=!1,o}if("SHOW_ADD_ACCOUNT"===t.type){var u=Object.assign([],e);return u.addAccount=!0,u}return e},G=Object(D.b)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),I=(n(61),n(13)),X=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){fetch("http://localhost:8888/accounts/").then(function(e){return e.json()}).then(function(e){G.dispatch(p.setAccounts(e)),e.map(function(e){e.labels.map(function(t){fetch("http://localhost:8888/"+e.address+"/messages/"+t).then(function(e){return e.json()}).then(function(n){G.dispatch(p.setMessages(e,t,n))}).then(function(){G.dispatch(p.selectAccount(e))})})})});return c.a.createElement("div",{className:"App"},c.a.createElement(M,null),c.a.createElement(U,null),c.a.createElement("div",{className:"container"},c.a.createElement(I.a,{split:"vertical",minSize:0,defaultSize:"6%"},c.a.createElement(g,null),c.a.createElement(I.a,{split:"vertical",minSize:50,defaultSize:"15%"},c.a.createElement(A,null),c.a.createElement(I.a,{split:"vertical",minSize:50,defaultSize:"40%"},c.a.createElement(T,null),c.a.createElement(I.a,{split:"vertical",minSize:50,defaultSize:"100%"},c.a.createElement(w,null)))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(d.a,{store:G},c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.bcc8b3d0.chunk.js.map